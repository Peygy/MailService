# Клиент-серверное приложение почтового сервиса

Выполнил студент группы ИКБО-20-22
Исаков Леонид Александрович

## Описание проекта

Данное приложение представляет собой клиент-серверную систему, имитирующую работу почтового сервиса. Оно предназначено для отправки, приема и управления электронными письмами как внутри самой системы, так и с возможностью взаимодействия с внешними SMTP-серверами.

## Структура проекта

Проект имеет следующую организацию директорий:

*   `back/`: Содержит исходный код серверной части приложения.
    *   `cmd/`: Входные точки для запуска различных компонентов сервера.
    *   `internal/`: Внутренние пакеты с основной логикой.
        *   `gateway/`: Модули для взаимодействия с внешними сервисами (например, базы данных, внешние SMTP).
        *   `model/`: Определения структур данных (сущностей) приложения.
        *   `service/`: Реализация бизнес-логики и операций над данными.
    *   `utils/`: Вспомогательные функции и утилиты.
*   `front/`: Содержит исходный код клиентской части приложения.
    *   `public/`: Статические файлы клиентского приложения.
    *   `src/`: Основной исходный код клиентского приложения.
*   `nginx/`: Конфигурационные файлы для веб-сервера Nginx, используемого в качестве обратного прокси или для статики.
*   `docker-compose.yml`: Файл конфигурации для оркестрации мультиконтейнерного приложения с использованием Docker Compose.
*   `Dockerfile`: Файлы для сборки Docker-образов компонентов проекта.
*   `Makefile`: Набор команд для автоматизации задач разработки (сборка, тестирование, развертывание).
*   `README`: Текущий файл с описанием проекта и инструкциями.
*   `start.sh`: Скрипт для запуска приложения.

## Функциональность

*   **Отправка и получение писем:** Основная функция для обмена сообщениями.
*   **Управление письмами:** Возможности просмотра, удаления и организации писем.
*   **Взаимодействие с внешними SMTP:** Поддержка отправки писем в приложение из внешнего мира. Для отправки на внутренний адрес используется специальный формат адресата (обязательно isakovl@yandex.ru): `"внутренний_адрес@gomail.kurs" <isakovl@yandex.ru>`.
    *   Пример: `"test1@gomail.kurs" <isakovl@yandex.ru>` - отправка письма пользователю `test1` внутри системы через внешний адрес `isakovl@yandex.ru` SMTP-сервера, указанный в угловых скобках.

## FAQ

1.  **Что делать, если не вижу пришедшего письма из приложения?**
    *   Проверьте папку "Спам" в вашем почтовом клиенте, куда отправляется письмо извне. Письмо могло быть ошибочно классифицировано как спам.
2.  **Не появляется письмо, посланное извне?**
    *   Пожалуйста, подождите некоторое время и обновите страницу в приложении. Внешние SMTP-серверы могут иметь задержки в обработке и доставке писем. Задержка не связана с работой данного приложения.

## Доступ к админке

Для входа в административную панель используйте следующие учетные данные:

*   **Email:** `admin@admin.gomail.kurs`
*   **Пароль:** `12344adm`

## Запуск проекта

Для запуска проекта с использованием Docker Compose выполните следующую команду в корневой директории проекта:

```bash
docker-compose up -d
```

Эта команда соберет (если необходимо) и запустит все сервисы, определенные в файле `docker-compose.yml`, в фоновом режиме.

## Конфигурация (`.env`)

Серверная часть приложения, расположенная в директории `back/`, использует файл `.env` для загрузки переменных окружения при локальном запуске (без Docker Compose). Этот файл не включается в репозиторий (`.gitignore`).

Пример содержимого файла `.env`:

```dotenv
DB_CONF="host=localhost user=your_db_user password=your_db_password dbname=your_db_name port=your_db_port sslmode=disable"
MAIL_PASS="your_email_password"
SMTP_HOST="your_smtp_host"
SMTP_USER="your_smtp_user"
IMAP_HOST="your_imap_host:port"
IMAP_USER="your_imap_user"
```

Замените значения на свои учетные данные и настройки базы данных/почтового сервера. При запуске через Docker Compose переменные окружения берутся из файла `docker-compose.yml`.
